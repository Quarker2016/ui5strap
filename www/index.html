<!DOCTYPE html>
<html>
	
	<head>
		
		<!-- Preload title -->
		<title>Ui5Strap</title>

		<!-- Ui5Strap Preload Stylesheet -->
		<link rel="stylesheet" type="text/css" href="lib/ui5strap/preload.css" />

		<!-- Content Type -->
		<meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/>
		
		<!-- Internet Explorer -->
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		
		<!-- Viewport settings -->
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
		
		<!-- IOS Webapp settings -->
		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black" />
		<link rel="apple-touch-icon" sizes="144x144" href="./apps/template/img/ui5strap-logo-256.png" />

		<!-- Fav icon -->
		<link rel="shortcut icon" href="./apps/template/img/ui5strap-logo-256.png" />

		<!-- Splash Screen Style -->
		<style>
			/*
			* Splash Screen
			*/
			#ui5strap-splash-screen{
				background: #dedede; /* Old browsers */
				background: -moz-linear-gradient(top, #dedede 0%, #afafaf 100%); /* FF3.6+ */
				background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#dedede), color-stop(100%,#afafaf)); /* Chrome,Safari4+ */
				background: -webkit-linear-gradient(top, #dedede 0%,#afafaf 100%); /* Chrome10+,Safari5.1+ */
				background: -o-linear-gradient(top, #dedede 0%,#afafaf 100%); /* Opera 11.10+ */
				background: -ms-linear-gradient(top, #dedede 0%,#afafaf 100%); /* IE10+ */
				background: linear-gradient(to bottom, #dedede 0%,#afafaf 100%); /* W3C */
				filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#dedede', endColorstr='#afafaf',GradientType=0 ); /* IE6-9 */
			}

			/*
			* Splash Screen Window
			*/
			#ui5strap-splash-screen-window{
				position:absolute;

				width:192px; 
				height:256px;
				
				left:50%;
				top:50%;
				
				margin-top:-128px;
				margin-left:-96px;
			}

			/*
			* Splash Screen Logo
			*/
			#ui5strap-splash-screen-logo{
				position:absolute;
				
				width:128px;
				height:128px;
				left:50%;
				top:0;
				margin-left:-64px;
			}

			/*
			* Splash Screen Spinner
			*/
			#ui5strap-splash-screen-spinner{
				position:absolute;
				
				width:24px;
				height:24px;
				left:50%;
				top:152px;
				margin-left:-12px;

				background-image:url('lib/ui5strap/img/spinner-black.png');
				background-position: center center;
				background-repeat: no-repeat;
				background-size:cover;
				
				-webkit-animation: spin 2s infinite linear;
				-moz-animation: spin 2s infinite linear;
				-o-animation: spin 2s infinite linear;
				animation: spin 2s infinite linear;

				-webkit-transform: translate3d(0,0,0);
				-moz-transform: translate3d(0,0,0);
				-ms-transform: translate3d(0,0,0);
				-o-transform: translate3d(0,0,0);
				transform: translate3d(0,0,0);
			}

			/*
			* Splash Screen Message
			*/
			#ui5strap-splash-screen-message{
				position:absolute;

				width:100%;
				height:32px;
				left:0;
				top:152px;
				
				line-height:32px;
				text-align: center;
				color:#888888;
				font-size:24px;

				opacity: 0;

				transition: opacity .3s ease-in;
				-webkit-transition: opacity .3s ease-in;
				-moz-transition: opacity .3s ease-in;
			}

			#ui5strap-splash-screen-message.ui5strap-splash-screen-message-visible{
				opacity: 1;
			}
		</style>
	
	</head>
	
	<body role="application">
		
		<!-- Ui5Strap Root Container Layer -->
		<div id="ui5strap-container">
			
			<!-- App Container, contains splash screen as first "app" -->
			<div id="ui5strap-app-initial" class="ui5strap-app">
				<div id="ui5strap-splash-screen" class="ui5strap-app-content">
					<div id="ui5strap-splash-screen-window">
						<img id="ui5strap-splash-screen-logo" src="./apps/template/img/ui5strap-logo-256.png" />
						<div id="ui5strap-splash-screen-spinner"></div>
						<div id="ui5strap-splash-screen-message">Welcome</div>
					</div>
				</div>
			</div>
			
		</div>
        
        <!--Ui5OS Home Bar. -->
        <div id="ui5strap-bar-home">
            <a id="ui5strap-button-home"><span class="fa fa-home"></span></a>
            <a id="ui5strap-button-taskmanager"><span class="fa fa-exchange"></span></a>
        </div>
        
		<!-- Global Overlay Layer -->
		<div id="ui5strap-overlay" class="ui5strap-overlay ui5strap-layer ui5strap-hidden">
			<div id="ui5strap-overlay-backdrop" class="ui5strap-overlay-backdrop"></div>
			<div id="ui5strap-overlay-content" class="ui5strap-overlay-content"></div>
		</div>

		<!-- Global Loading Layer -->
		<div id="ui5strap-loader" class="ui5strap-layer ui5strap-loader ui5strap-hidden"></div>
		
		<!-- START Error Layers -->
		
		<!-- Fatal Error Layer -->
		<div id="ui5strap-fatal" class="ui5strap-layer">
			<div id="ui5strap-fatal-message"></div>
		</div>

		<!-- No Script Layer. Only visible when JavaScript is deactivated. -->
		<noscript>
			<div id="ui5strap-noscript" class="ui5strap-layer">
				Ui5Strap requires JavaScript to be enabled.
			</div>
		</noscript>

		<!-- END Error Layers -->

		<!-- Cordova Library (optional). Only needed when building mobile apps. -->
		<!-- <script type="text/javascript" src="cordova.js"></script> -->
		
		
		<!-- Cache Control (optional) -->
		<!-- 
		<script id="ui5strap-cache-control" 
		  src="lib/ui5strap-cache-control.js"
		  data-ui5strap-cache-version="RANDOM"
		  ></script>
         -->
         
        <!-- 
            Minimized OpenUI5 library. If you need the full OpenUI5 Library, you can get it at http://openui5.org
            Please note that preloading of the Ui5Strap library is disabled by default. Remove "_preload-disabled" to activate preloading. 
        -->
       <script id="sap-ui-bootstrap" 
            src="resources/sap-ui-core.js" 
            data-sap-ui-compatVersion="edge" 
            data-sap-ui-preload="async" 
            data-sap-ui-libs="ui5strap"
            data-sap-ui-logLevel="ALL"
            data-sap-ui-resourceroots='{
        		"ui5strap": "./lib/ui5strap/"
    		}'>
       </script>
         
         <!-- Main Script -->           
		<script>
		   
		   (function(){
			   /*
                * Define Viewer Options
                * Use "app.defaultValue" to set the Default App. 
                * It is used if no "app" GET parameter is present.
                */
                var viewerOptions = {
                        "console" : true,
                        "app" : {
                            type : "URI",
                            uriParam : "app",
                            defaultValue : "./apps/template/app.json"
                        }
                },
                onDeviceReady = function(){
                    /*
                    * Initialize Viewer
                    */
                    sap.ui.require(["ui5strap/Viewer"], function(Viewer){
                        
                    	//The reference to the viewer instance should not be global
                        var viewer = new Viewer(viewerOptions);
                        
                        /*
                        * Viewer.prototype.start accepts two callback functions as parameters.
                        * The first callback is fired when the app has been completely started and shown.
                        * The second callback is fired when the app has been loaded but did not show yet.
                        * Both parameters are optional.
                        */
                        viewer.start(null, function(){
                            //In this example we want to show the welcome message when the App has been loaded.
                            document.getElementById('ui5strap-splash-screen-spinner').className = 'ui5strap-hidden';
                            document.getElementById('ui5strap-splash-screen-message').className = 'ui5strap-splash-screen-message-visible';
                        });
                        
                    });
                };
    
                if(window.cordova){
	                //App is executed within Cordova
	                document.addEventListener("deviceready", function(){
	                    sap.ui.getCore().attachInit(onDeviceReady);
	                }, false);
	            }
	            else{
	                //Otherwise, trigger the callback immediately
	                sap.ui.getCore().attachInit(onDeviceReady);
	            }
		    }());
		</script>

	</body>

</html>
